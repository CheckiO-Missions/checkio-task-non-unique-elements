<body data-author="oduvan">
<div class="question-answer">
    <div class="question">
        <p>
            请告诉我如何解决这个任务。
        </p>
    </div>
    <div class="answer">
        <p>
            好吧，让我们从一个简单的函数开始，这个函数可以识别在给定的列表中这是否是一个唯一的元素。
        </p>
        <p>
            现在我有几个版本供您尝试。第一个版本比较长：
        </p>
        <pre class="brush: javascript">
function isUnique(arr: number[], el: number): boolean {

    var hasOne = false;
    for (let item of arr) {
        if (item === el) {
            if (hasOne) {
                return false;
            } else {
                hasOne = true;
            }
        }
    }
    return true;
}
        </pre>
        <p>
            第二个版本很短，但如果你是JS和ES6的新手，可能会更难理解。
        </p>
        <pre class="brush: javascript">
function isUnique(arr: number[], el: number): boolean {

    return arr.filter(a => a === el).length === 1
}
        </pre>
    </div>
</div>
<div class="question-answer">
    <div class="question">
        <p>
            我如何使用它来解决这个任务？
        </p>
    </div>
    <div class="answer">
        <p>
            这样想一下：你需要遍历给定数组中的所有元素，并创建一个包含所有唯一元素的新闻数组。同样，我将向您展示两种解决方法。
        </p>
        <p>一个长的：</p>
        <pre class="brush: javascript">
function nonUniqueElements(data: number[]): number[] {

    const new_result = []
    for (let item of data) {
        if (!isUnique(data, item)) {
            new_result.push(item)
        }
    }
    return new_result;
}
        </pre>
        <p>一个长的，一个短的：</p>
        <pre class="brush: javascript">
function nonUniqueElements(data: number[]): number[] {

    return data.filter(item =>!isUnique(data, item))
}
        </pre>
    </div>
</div>
<div class="question-answer">
    <div class="question">
        <p>
            那么，我的最终解决方案应该是怎样的呢？
        </p>
    </div>
    <div class="answer">
        <p>
            您只需使用这两个函数：
        </p>
        <div class="spoiler">
        <pre class="brush: javascript">
function nonUniqueElements(data: number[]): number[] {

    const new_result = []
    for (let item of data) {
        if (!isUnique(data, item)) {
            new_result.push(item)
        }
    }
    return new_result;
}
function isUnique(arr: number[], el: number): boolean {

    var hasOne = false;
    for (let item of arr) {
        if (item === el) {
            if (hasOne) {
                return false;
            } else {
                hasOne = true;
            }
        }
    }
    return true;
}
        </pre>
        </div>
        <p>或简短版本：</p>
        <div class="spoiler">
        <pre class="brush: javascript">
function nonUniqueElements(data: number[]): number[] {

    return data.filter(item =>!isUnique(data, item))
}
function isUnique(arr: number[], el: number): boolean {

    return arr.filter(a => a === el).length === 1
}
        </pre>
        </div>
    </div>
</div>
</body>
